{
  "config": {
    "flow_title": "HVAC Vent Optimizer",
    "step": {
      "user": {
        "title": "Select vent brand",
        "description": "Choose your smart vent brand. Select Manual if you do not have smart vents and want recommended apertures.",
        "data": {
          "vent_brand": "Vent brand"
        }
      },
      "flair_auth": {
        "title": "Connect to Flair",
        "description": "Enter the OAuth 2.0 Client ID and Client Secret from your Flair developer app. The app must use the client_credentials grant type. If you see scope errors, your app may be missing permissions.",
        "data": {
          "client_id": "Client ID (OAuth 2.0)",
          "client_secret": "Client Secret (OAuth 2.0)"
        }
      },
      "structure": {
        "title": "Select structure",
        "description": "Choose which Flair structure (home) to manage.",
        "data": {
          "structure_id": "Structure"
        }
      },
      "manual_count": {
        "title": "Manual vent count",
        "description": "Enter how many vents you want to manage manually.",
        "data": {
          "manual_vent_count": "Number of vents"
        }
      },
      "manual_vents": {
        "title": "Manual vent setup",
        "description": "Provide a name, thermostat, and temperature sensor for each vent."
      }
    },
    "error": {
      "auth": "Authentication failed. Check the Client ID/Secret and OAuth app type.",
      "invalid_client": "OAuth credentials are invalid or not authorized for client_credentials.",
      "invalid_grant": "OAuth grant is invalid. Verify the client credentials and grant type.",
      "invalid_scope": "Your OAuth app does not allow one or more required scopes. Ask Flair to enable missing scopes.",
      "rate_limited": "Flair rate limit reached. Wait a moment and try again.",
      "timeout": "Flair did not respond in time. Check connectivity and try again.",
      "server_error": "Flair returned a server error. Try again later.",
      "cannot_connect": "Could not connect to Flair. Check network access and try again.",
      "no_structures": "No structures were found for this account.",
      "unknown": "Unexpected error. Check logs for details."
    }
  },
  "options": {
    "step": {
      "menu": {
        "title": "HVAC Vent Optimizer options",
        "description": "Choose which settings to configure. Start with brand selection, then DAB & polling."
      },
      "algorithm_settings": {
        "title": "Algorithm & polling",
        "description": "Tune Dynamic Airflow Balancing (DAB) and polling behavior.\n\n- Use DAB: automatically adjusts vents based on room efficiency.\n- Force manual: sets the vendor structure to manual when DAB runs.\n- Close inactive rooms: closes vents for rooms marked inactive (airflow safety may reopen some vents).\n- Granularity: rounds vent changes to reduce frequent adjustments.\n- Polling intervals: refresh rates for active vs idle HVAC.\n- Initial efficiency: starting % used before learned data exists.\n- Notifications/logbook: optionally record efficiency adjustments.\n- Control strategy:\n  - dab: uses the original airflow curve\n  - cost: uses a linear target with movement/open penalties\n  - stats: uses a learned linear model per vent\n  - hybrid: picks the lowest-cost target from all strategies",
        "data": {
          "dab_enabled": "Use Dynamic Airflow Balancing (automatic vent control)",
          "dab_force_manual": "Force vendor structure mode to manual while DAB is enabled",
          "close_inactive_rooms": "Close vents in rooms marked inactive",
          "vent_granularity": "Vent adjustment granularity (smaller = finer control)",
          "poll_interval_active": "Polling interval while HVAC is active (minutes)",
          "poll_interval_idle": "Polling interval while HVAC is idle (minutes)",
          "initial_efficiency_percent": "Initial efficiency percent for new rooms",
          "notify_efficiency_changes": "Notify when efficiency values are adjusted",
          "log_efficiency_changes": "Write efficiency adjustments to the logbook",
          "control_strategy": "Control strategy (dab, cost, stats, hybrid)",
          "min_adjustment_percent": "Minimum vent change before adjusting (%)",
          "min_adjustment_interval": "Minimum minutes between vent adjustments",
          "temp_error_override_c": "Temperature error (C) that overrides hold rules"
        }
      },
      "vent_assignments": {
        "title": "Vent assignments",
        "description": "Assign a thermostat and (optionally) a temperature sensor for each vent. Found {vent_count} vents.\n\n- Thermostat: the HVAC system serving that vent.\n- Temperature sensor (optional): overrides room temperature for DAB.\n- If no sensor is selected, the vendor room temperature is used."
      },
      "conventional_vents": {
        "title": "Conventional vent counts",
        "description": "Enter how many non-smart vents exist for each thermostat. This prevents total airflow from dropping too low when DAB closes vents.\n\nImportant: Enter a realistic count. Extreme or incorrect values can reduce airflow and potentially stress your HVAC system. Allowed range: 0-50. If you have more than 50, split by system or contact support for guidance."
      },
      "brand_manual": {
        "title": "Vent brand & manual setup",
        "description": "Select the vent brand. Choose Manual to enter your vents, thermostats, and sensors.",
        "data": {
          "vent_brand": "Vent brand"
        }
      },
      "manual_count": {
        "title": "Manual vent count",
        "description": "Enter how many vents you want to manage manually.",
        "data": {
          "manual_vent_count": "Number of vents"
        }
      }
    },
    "error": {
      "cannot_connect": "Unable to load vents from the vendor API. Check your connection and credentials.",
      "no_assignments": "Please assign thermostats to vents before setting conventional vent counts."
    }
  }
}
